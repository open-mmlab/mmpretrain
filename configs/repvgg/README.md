# Repvgg: Making vgg-style convnets great again

## Introduction

```latex
@inproceedings{ding2021repvgg,
  title={Repvgg: Making vgg-style convnets great again},
  author={Ding, Xiaohan and Zhang, Xiangyu and Ma, Ningning and Han, Jungong and Ding, Guiguang and Sun, Jian},
  booktitle={Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition},
  pages={13733--13742},
  year={2021}
}
```

## Pretrain model

|    Model    | Epochs |             Params(M)             |            Flops(G)             | Top-1 (%) | Top-5 (%) |                            Config                            |                           Download                           |
| :---------: | :----: | :-------------------------------: | :-----------------------------: | :-------: | :-------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|  RepVGG-A0  |  120   |   9.11ï¼ˆtrain) \| 8.31 (deploy)   |  1.52 (train) \| 1.36 (deploy)  |   71.43   |   90.16   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggA0_b64x4_imagenet_120e_coslr.py) \| [config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggA0_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1TtzdRLaCx9JkkrECNTLciqq1GQVUMjzC/view?usp=sharing) \| [model (deploy)](https://drive.google.com/file/d/143hwZUgoMypWG1pNcgsOXGARsqbk3QbP/view?usp=sharing) |
|  RepVGG-A1  |  120   |  14.09 (train) \| 12.79 (deploy)  |  2.64 (train) \| 2.37 (deploy)  |   73.82   |   91.46   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggA1_b64x4_imagenet_120e_coslr.py) \| [config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggA1_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1qvy9poxVWlYpEqYcugPdGpu2j4o0jJ2f/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1UglhPpEApNZQ2rhmo9KiKIxYhbegujew/view?usp=sharing) |
|  RepVGG-A2  |  120   |  28.21 (train) \| 25.5 (deploy)   |  5.7 (train)  \| 5.12 (deploy)  |   75.65   |   92.61   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggA2_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggA2_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1z88eUNhLj0AZrTsQwx4ZMRbjnQvGBUPQ/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1_xj4XPS4jlb4n6DuuQX8-r7g-SNDZ4Pd/view?usp=sharing) |
|  RepVGG-B0  |  120   |  15.82 (train) \| 14.34 (deploy)  |  3.42 (train) \| 3.06 (deploy)  |   74.42   |   92.09   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB0_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB0_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1bHORC7EMJpP_iF87FRMaWb_LfPMYGpv1/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1BOvL4C0YZDfUwMPVEGllG2eeI4e1EYoQ/view?usp=sharing) |
|  RepVGG-B1  |  120   |  57.42 (train) \| 51.83 (deploy)  | 13.16 (train) \| 11.82 (deploy) |   77.72   |   93.88   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB1_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB1_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1AEEq5CNbTRM7IvMoSEspLnDAwyGy4mG9/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1ZYCImTVhmbKzuZg8--T1VNlJAEPn199b/view?usp=sharing) |
| RepVGG-B1g2 |  120   |  45.78 (train) \| 41.36 (deploy)  |  9.82 (train) \| 8.82 (deploy)  |   77.30   |   93.56   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB1g2_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB1g2_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/12H7f5K-0rwi9fRcik4p2L0-wkPHV_c1T/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1LBmvIOUSAU02P8PAC_wirAY0ATUK5deG/view?usp=sharing) |
| RepVGG-B1g4 |  120   |  39.97 (train) \| 36.13 (deploy)  |  8.15 (train) \| 7.32 (deploy)  |   76.69   |   93.36   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB1g4_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB1g4_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1gse1Wxp9N5I9nCH4mcvfdlF0Y1SfiXqj/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1XGrXEV2XvHsJtvP8o3i9AQlCd0uhJSDe/view?usp=sharing) |
|  RepVGG-B2  |  120   |  89.02 (train) \| 80.32 (deploy)  | 20.46 (train) \| 18.39 (deploy) |   78.10   |   94.07   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB2_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB2_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1RYJvsOLrO2ViJYsX2aBG2uOkRVtqsPG2/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1oubuEepALSsckSNdvv2QQJZCXM_oEWf1/view?usp=sharing) |
| RepVGG-B2g4 |  120   |  61.76 (train) \| 55.78 (deploy)  | 12.63 (train) \| 11.34 (deploy) |   77.87   |   93.76   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB2g4_b64x4_imagenet_120e_coslr.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB2g4_b64x4_imagenet_120e_coslr_deploy.py) | [model (train)](https://drive.google.com/file/d/1k7gHCXK8_YTTcxoxegAzh9w3yo9en0Ih/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1klLCVYbRQ749RsuKF_bmO-FcHv7K3vnv/view?usp=sharing) |
| RepVGG-B2g4 |  200   |  61.76 (train) \| 55.78 (deploy)  | 12.63 (train) \| 11.34 (deploy) |   78.87   |   94.44   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB2g4_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB2g4_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment_deploy.py) | [model (train)](https://drive.google.com/file/d/1qO5ClBfXPebItvqH4xco90HpENkR-mkH/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1Vw58lc0Yz78ZxRUPE3ztZg4n6oH6swCN/view?usp=sharing) |
|  RepVGG-B3  |  200   | 123.09 (train) \| 110.96 (deploy) | 29.17 (train) \| 26.22 (deploy) |   79.87   |   95.00   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB3_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB3_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment_deploy.py) | [model (train)](https://drive.google.com/file/d/1uMPMoKezSFfTi_wh2b0-lPJVlmPMvTBV/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1CziBGXlgUgsabCHrXVwzXtTw_qDc6tP9/view?usp=sharing) |
| RepVGG-B3g4 |  200   |  83.83 (train) \| 75.63 (deploy)  | 17.9 (train) \| 16.08 (deploy)  |   79.63   |   94.87   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB3g4_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment.py) \|[config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB3g4_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment_deploy.py) | [model (train)](https://drive.google.com/file/d/1GisCFgCVg6zcGrpQBVuurrPIhKx1CRzq/view?usp=sharing) \|[model (deploy)](https://drive.google.com/file/d/1xX-eWfoffDBDj62WfwZB3YuAjF5qZgmk/view?usp=sharing) |

**Note**: The parameters of RepVGG-D2se are not provided because the implementation of the SE module in MMClassification is different from that in the RepVGG module, resulting in the transformed RepVGG-D2se parameters not being loaded. The configuration file of RepVGG-D2se is available [here](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggD2se_b64x4_imagenet_200e_coslr_warmup_label_smoothing_mixup_autoaugment.py).

## Results and models

### ImageNet

|         Model          |             Params(M)             |            Flops(G)             |            Top-1 (%)            | Top-5 (%) |                            Config                            |                           Download                           |
| :--------------------: | :-------------------------------: | :-----------------------------: | :-----------------------------: | :-------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|      RepVGG-B2g4       |  61.76 (train) \| 55.78 (deploy)  | 12.63 (train) \| 11.34 (deploy) |              76.83              |   93.50   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB2g4_b64x4_imagenet.py) \| [config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB2g2_b64x4_imagenet_deploy.py) | [model (train)](https://drive.google.com/file/d/1rb4pEAA1LxWJp_CHoxic8oA-9byrEMkf/view?usp=sharing) \| [model (deploy)](https://drive.google.com/file/d/1g6mElgiTTpcLO7CFR2Llt4pSNkwhLWHA/view?usp=sharing) \| [log](https://drive.google.com/file/d/1qo9HdVs3dAhVDu5DbpKxTfRvsja7AH5J/view?usp=sharing) |
|       RepVGG-B3        | 123.09 (train) \| 110.96 (deploy) | 29.17 (train) \| 26.22 (deploy) | 77.88 (train) \| 77.87 (deploy) |   93.99   | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB3g2_b64x4_imagenet.py) \| [config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB3_b64x4_imagenet_deploy.py) | [model (train)](https://drive.google.com/file/d/12n8iVZ9ayXrVZAib4OeHbDU2vg1c4k1u/view?usp=sharing) \| [model (deploy)](https://drive.google.com/file/d/1N1SSl4EWiuTyba80syVcyhFgMIxGtZAz/view?usp=sharing) \| [log](https://drive.google.com/file/d/1qo9HdVs3dAhVDu5DbpKxTfRvsja7AH5J/view?usp=sharing) |
| RepVGG-B3g4 (training) |  83.83 (train) \| 75.63 (deploy)  | 17.9 (train) \| 16.08 (deploy)  |                                 |           | [config (train)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/repvggB3g4_b64x4_imagenet_coslr_warmup_label_smoothing_mixup_autoaugment.py) \| [config (deploy)](https://github.com/zhangrui-wolf/openmmlab-competition-2021/blob/main/configs/repvgg/deploy/repvggB3g4_b64x4_imagenet_coslr_warmup_label_smoothing_mixup_autoaugment_deploy.py) |                                                              |
